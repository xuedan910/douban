function set_cookie(t,e,n,r){var o,i,a=new Date;a.setTime(a.getTime()+24*(e||30)*60*60*1e3),o="; expires="+a.toGMTString();for(i in t)document.cookie=i+"="+t[i]+o+"; domain="+(n||"douban.com")+"; path="+(r||"/")}function get_cookie(t){var e,n,r=t+"=",o=document.cookie.split(";");for(e=0;e<o.length;e++){for(n=o[e];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(r))return n.substring(r.length,n.length).replace(/\"/g,"")}return null}function clampBox(){var t=$("[data-clamp]");0!==t.length&&t.each(function(e){var n=t.eq(e),r=n.data("clamp");dui.ellipsis({dom:n,maxLine:r,ellipsis:'...<a class="expand" href="javascript:;" style="float:right;">(展开)</a>'}),n.on("click",function(){var t=n.data("content");t&&n.html(t),$(this).find("a.expand").hide()})})}function handleTouchToggle(t){var e,n,r,o,i=10,a=$(t);return a.on("touchstart",function(t){e=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY}),a.on("touchmove",function(t){var a=t.changedTouches[0].pageX,s=t.changedTouches[0].pageY,u=Math.abs(e-a),c=Math.abs(n-s);if(c>i){if(r=s-n<0?"down":"up",r===o)return;"down"===r&&u<c?($(".promotion-app").removeClass("affix"),$(".promotion-app").addClass("hide")):"up"===r&&($(".promotion-app").removeClass("hide"),$(".promotion-app").addClass("affix"))}n=s,o=r}),a.on("touchend",function(t){o=null}),r}function bindEvent(){$("a.expand").on("click",function(){var t=$("p","section.group-about");t.html(t.attr("data-content"))})}if(function(t){function e(e){e=t.extend(!0,{},a,e);var n=t(e.dom);1===n.length?r(e,n):n.length>1&&n.each(function(t){r(e,n.eq(t))})}function n(t){return t?t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function r(e,r){var o=r.parent(),a=o.css("position"),s=r.clone().css({visibility:"hidden",height:"auto","max-height":"initial",position:"absolute",top:0,left:0}).appendTo(o.css({position:"relative"})),u=e.maxHeight||r.height(),c=!1,l=r.data(i)?r.data(i):r.html(),f=r.text(),d=t.isFunction(e.ellipsis)?e.ellipsis.apply(r):e.ellipsis,p=t.isFunction(e.always)?e.always.apply(r):e.always||"",h=n(f)+d+p,v=h.length,m=v,g=Math.floor(v/2),y=s.html(h).height(),b=s.css("font-size");if(!e.maxHeight){var w=s.css("line-height");w=w.match(/px/)?parseInt(w.replace("px",""),10):w.match(/^\d+$/)?parseInt(b.replace("px",""),10)*parseInt(w,10):1.5*parseInt(b.replace("px",""),10),u=w*e.maxLine}if(u>=y)return r.html(l+p),s.remove(),void o.css({position:a});for(;;){if(y>u)m-=g,c=!0;else{if(g<=1&&c)break;m+=g,c=!1}g>1&&(g=Math.floor(g/2)),m=Math.min(l.length,m),h=n(f.substring(0,m))+d+p,y=s.html(h).height()}r.data(i)||r.data(i,r.html()),r.html(h),s.remove(),o.css({position:a})}var o=window.dui||{},i="content",a={dom:"",maxLine:3,maxHeight:null,ellipsis:"...",always:null};o.ellipsis=e,window.dui=o}(Zepto),function(){var t=window.dui||(window.dui={});if(!t.LoginUtil){var e="https://accounts.douban.com/login";t.LoginUtil={BASE_LOGIN_URL:e,LOGIN_URL:e+"?source=mobile&redir="+encodeURIComponent(location.href),redirectToLogin:function(){location.href=this.LOGIN_URL},defaultUserInfo:{id:0,avatar:"https://img1.doubanio.com/icon/user_normal.jpg",name:"未登陆"},getUserInfo:function(t){t=t||!1;var e=window.TalionData||(window.TalionData={}),n=e.userInfo;if(n)return n;try{var r=get_cookie("talionusr");r&&(n=JSON.parse(window.atob(r)))}catch(t){console.error(t)}return t?n||this.defaultUserInfo:n},isLogin:function(){var t=this.getUserInfo();return!(!t||!t.id)},checkLogin:function(t){return!!this.isLogin()||(t!==!1&&this.redirectToLogin(),!1)}}}}(),function(t,e){function n(t,n){return"function"==typeof t&&(t={afterHide:t}),e.extend({},n,t)}var r=t.dui||(t.dui={});if(!r.toast){e('<div id="toast"><span></span></div>').appendTo(document.body);var o,i={msg:"操作成功",color:"green",timeout:2e3,afterHide:null};r.toast={show:function(t){t=this._opts=e.extend({},i,t),e("#toast").removeClass("green red gray").addClass("show "+t.color).find("span").html(t.msg),o&&(clearTimeout(o),o=null),t.timeout&&(o=setTimeout(function(){this.hide()}.bind(this),t.timeout))},hide:function(){var t=this;e("#toast").removeClass("show"),setTimeout(function(){t._opts.afterHide&&t._opts.afterHide()},500)},warn:function(t,e){this.show(n(e,{msg:t||"操作失败",color:"red"}))},error:function(t,e){this.show(n(e,{msg:t||"出现错误",color:"gray"}))},success:function(t,e){this.show(n(e,{msg:t||"操作成功",color:"green"}))},networkError:function(t,e){t=t||"无网络连接",this.error(t,e)}}}}(window,Zepto),function(){function t(t,e){var n=["ref="+encodeURIComponent(location.pathname)];for(var r in e)e.hasOwnProperty(r)&&n.push(r+"="+e[r]);window._SPLITTEST&&n.push("splittest="+window._SPLITTEST),localStorage.setItem("report",(localStorage.getItem("report")||"")+"_moreurl_separator_"+n.join("&"))}var e=function(){var t;try{localStorage.setItem("test",1),localStorage.removeItem("test"),t=!0}catch(e){t=!1}return t}();return e?($(window).one("load",function(){var t=localStorage.getItem("report");if(t){t=t.split("_moreurl_separator_");var e=function(n){return""==n?void e(t.shift()):void $.get("undefined"==typeof _MOREURL_REQ?"/stat.html?"+n:_MOREURL_REQ+"?"+n,function(){return t.length?(e(t.shift()),void localStorage.setItem("report",t.join("_moreurl_separator_"))):void localStorage.removeItem("report")})};e(t.shift())}}),window.moreurl=t,void $(document).click(function(e){var n=e.target,r=$(n).data("moreurl-dict");r&&t(n,r)})):void(window.moreurl=function(){})}(),document.querySelector("#TalionNav"))try{!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}([function(t,e,n){t.exports=n(21)},function(t,e){t.exports="2"},function(t,e,n){var r,o;!function(i){r=i,o="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==o&&(t.exports=o))}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(n){function r(e,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if(i=t({path:"/"},r.defaults,i),"number"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(t){}return o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",o,i.expires&&"; expires="+i.expires.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}e||(a={});for(var u=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,l=0;l<u.length;l++){var f=u[l].split("="),d=f.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{var p=f[0].replace(c,decodeURIComponent);if(d=n.read?n.read(d,p):n(d,p)||d.replace(c,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(t){}if(e===p){a=d;break}e||(a[p]=d)}catch(t){}}return a}}return r.set=r,r.get=function(t){return r(t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}return e(function(){})})},function(t,e){function n(t){return t&&"Thunk"===t.type}t.exports=n},function(t,e,n){function r(t){return t&&"VirtualNode"===t.type&&t.version===o}var o=n(1);t.exports=r},function(t,e){function n(t){return t&&"Widget"===t.type}t.exports=n},function(t,e){"use strict";function n(t){return this instanceof n?void(this.value=t):new n(t)}t.exports=n,n.prototype.hook=function(t,e){t[e]!==this.value&&(t[e]=this.value)}},function(t,e){function n(t){return t&&("function"==typeof t.hook&&!t.hasOwnProperty("hook")||"function"==typeof t.unhook&&!t.hasOwnProperty("unhook"))}t.exports=n},function(t,e,n){function r(t){return t&&"VirtualText"===t.type&&t.version===o}var o=n(1);t.exports=r},function(t,e,n){function r(t,e,n,r,o){this.tagName=t,this.properties=e||c,this.children=n||l,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof o?o:null;var f,d=n&&n.length||0,p=0,h=!1,v=!1,m=!1;for(var g in e)if(e.hasOwnProperty(g)){var y=e[g];u(y)&&y.unhook&&(f||(f={}),f[g]=y)}for(var b=0;b<d;b++){var w=n[b];i(w)?(p+=w.count||0,!h&&w.hasWidgets&&(h=!0),!v&&w.hasThunks&&(v=!0),m||!w.hooks&&!w.descendantHooks||(m=!0)):!h&&a(w)?"function"==typeof w.destroy&&(h=!0):!v&&s(w)&&(v=!0)}this.count=d+p,this.hasWidgets=h,this.hasThunks=v,this.hooks=f,this.descendantHooks=m}var o=n(1),i=n(4),a=n(5),s=n(3),u=n(7);t.exports=r;var c={},l=[];r.prototype.version=o,r.prototype.type="VirtualNode"},function(t,e,n){function r(t){this.text=String(t)}var o=n(1);t.exports=r,r.prototype.version=o,r.prototype.type="VirtualText"},function(t,e){t.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e){t.exports={VirtualTree:1,VirtualPatch:2,VirtualNode:3,SoftSetHook:4}},function(t,e,n){"use strict";t.exports=n(39)},function(t,e,n){function r(t,e,n){for(var r in e){var a=e[r];void 0===a?o(t,r,n):u(a)?(o(t,r,a,n),t[r]=a.value):s(a)?i(t,e,n,r,a):t[r]=a}}function o(t,e,n){if(n){var r=n[e];if("attributes"===e)for(var o in r)t.removeAttribute(o);else if("style"===e)for(var i in r)t.style[i]="";else"string"==typeof r?t[e]="":t[e]=null}}function i(t,e,n,r,o){var i=n?n[r]:void 0;if("attributes"!==r){if(i&&s(i)&&a(i)!==a(o))return void(t[r]=o);s(t[r])||(t[r]={});var u="style"===r?"":void 0;for(var c in o){var l=o[c];t[r][c]=void 0===l?u:l}}else for(var f in o){var d=o[f];void 0===d?t.removeAttribute(f):t.setAttribute(f,d)}}function a(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__||t.constructor.prototype}var s=n(46),u=n(47);t.exports=r},function(t,e){t.exports={VirtualTree:1,VirtualPatch:2,VirtualNode:3,SoftSetHook:4}},function(t,e){t.exports={NONE:0,VTEXT:1,VNODE:2,WIDGET:3,PROPS:4,ORDER:5,INSERT:6,REMOVE:7,THUNK:8}},function(t,e,n){function r(t,e,n){this.type=Number(t),this.vNode=e,this.patch=n}var o=n(1);r.NONE=0,r.VTEXT=1,r.VNODE=2,r.WIDGET=3,r.PROPS=4,r.ORDER=5,r.INSERT=6,r.REMOVE=7,r.THUNK=8,t.exports=r,r.prototype.version=o,r.prototype.type="VirtualPatch"},function(t,e){function n(t){return"[object Array]"===o.call(t)}var r=Array.isArray,o=Object.prototype.toString;t.exports=r||n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{name:"电影",color:"#2384E8",desc:"影院热映",url:"/movie"},{name:"电视",color:"#7A6ADB",desc:"正在热播",url:"/tv"},{name:"图书",color:"#9F7860",desc:"畅销排行",url:"/book"},{name:"同城",color:"#E6467E",desc:"周末活动",url:"https://douban.com/location"},{name:"小组",color:"#2AB8CC",desc:"志趣相投",url:"/group"},{name:"音乐",color:"#F48F2E",desc:"新碟榜",url:"/music"},{name:"阅读",color:"#9F7860",desc:"电子书",url:"https://read.douban.com"},{name:"游戏",color:"#5774C5",desc:"虚拟世界",url:"/game"},{name:"应用",color:"#596CDD",desc:"玩手机",url:"/mobileapp"},{name:"东西",color:"#E1644D",desc:"心爱之物",url:"https://dongxi.douban.com/?dcs=mobile-anonymous-home&dcm=douban"},{name:"FM",color:"#40CFA9",desc:"红心歌单",url:"https://douban.fm"},{name:"市集",color:"#42BD56",desc:"购买原创",url:"https://market.douban.com/?utm_campaign=mobile_web_douban_nav&utm_source=douban&utm_medium=mobile_web"}];e.default=n;var r=n.filter(function(t){return["电影","图书","小组"].indexOf(t.name)>-1});r.splice(2,0,{name:"广播",color:"#E4A813",desc:"兴趣讨论",url:"/status"}),e.topNavs=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(55),i=r(o),a=n(54),s=r(a),u=n(37),c=r(u),l=n(26),f=r(l),d=n(2),p=r(d),h=n(22),v=r(h),m=n(24),g="douban://douban.com/",y=void 0,b=0,w=void 0;try{w=JSON.parse(atob(p.default.get("talionusr")))}catch(t){}var x={folded:!0,redir:document.location.href,user:w};e.default=function(t){switch(t.type){case"start":y=(0,c.default)(t.vdom);break;case"toggle":var e=document.querySelector("html"),n=document.querySelector("body");x.folded&&(b=n.scrollTop),x.folded=!x.folded,(0,f.default)(e).toggle("is-scrolling-disabled"),x.folded&&(n.scrollTop=b);break;case"noti":x.noti=t.noti;break;case"open-app":(0,m.redirectToOpenApp)(g,{source:"m_ad_nav",is_download_url:!0})}var r=(0,v.default)(x),o=(0,i.default)(y,r);return y=r,(0,s.default)(o)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=document.createEvent("Event");e.initEvent("change",!0,!0),e.detail=t,w.dispatchEvent(e)}function i(t){t.target["data-tap"]&&o({type:t.target["data-tap"],target:t.target})}var a=n(13),s=r(a),u=n(53),c=r(u),l=n(40),f=r(l),d=n(20),p=r(d),h=n(30),v=r(h),m=n(2),g=r(m),y=n(23),b=r(y);n(29);var w=document.querySelector("#TalionNav"),x=w.querySelector(".TalionNav");v.default.attach(w),w.addEventListener("click",i),w.addEventListener("change",function(t){var e=t.detail.type;if("link"===e){var n=t.detail.target;n.getAttribute("class").indexOf("toPC")>-1?(g.default.set("_ck_desktop_mode","1",{path:"/",expires:1,domain:".douban.com"}),g.default.set("vmode","pc",{path:"/",expires:1,domain:".douban.com"})):(g.default.remove("_ck_desktop_mode",{path:"/",domain:".douban.com"}),g.default.remove("vmode",{path:"/",domain:".douban.com"})),document.location=n.getAttribute("href")}else!function(){var e=(0,p.default)(t.detail);requestAnimationFrame?requestAnimationFrame(function(){(0,c.default)(x,e)}):(0,c.default)(x,e)}()}),o({type:"start",vdom:(0,s.default)((0,f.default)(x))}),b.default.listen(function(t){return o({type:"noti",vdom:(0,s.default)((0,f.default)(x)),noti:t})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(56),i=r(o),a=n(19),s=r(a),u=n(2),c=r(u);e.default=function(t){var e=t.folded,n=t.user,r=t.redir,o=t.noti,u=void 0===o?{}:o,l="http://accounts.douban.com",f=c.default.get("ck"),d=l+"/logout?ck="+f,p=l+"/login?redir="+r,h=l+"/register?redir="+r,v=void 0,m=void 0,g=void 0,y=void 0;if(e){var b=a.topNavs.map(function(t){return(0,i.default)("li",null,(0,i.default)("a",{href:t.url,style:{color:t.color}},t.name))});v=(0,i.default)("div",{className:"TalionNav-primary"},[(0,i.default)("a",{href:"/"},(0,i.default)("h1",null,"豆瓣")),(0,i.default)("nav",null,[(0,i.default)("ul",null,b),(0,i.default)("span",{"data-tap":"toggle",className:u.msg?"has-noti":""})])])}else g=(0,i.default)("div",{className:"TalionNav-layer","data-tap":"toggle"});var w=Array.apply(null,{length:3}).map(function(t,e){for(var n=[],r=0,o=s.default[r+e];o;o=s.default[3*++r+e])n.push((0,i.default)("a",{href:o.url,target:o.url.match(/^https?/)>-1?"_blank":""},[(0,i.default)("strong",{style:{color:o.color}},o.name),(0,i.default)("span",null,o.desc)]));return(0,i.default)("li",null,(0,i.default)("div",null,n))});return y=n?(0,i.default)("div",{className:"nav-item"},[(0,i.default)("a",{className:"toUser",href:"/mine/","data-tap":"link"},n.name),(0,i.default)("a",{className:"toExit",href:d,"data-tap":"link"},"退出豆瓣")]):(0,i.default)("div",{className:"nav-item"},[(0,i.default)("a",{className:"toReg",href:h,"data-tap":"link"},"注册帐号"),(0,i.default)("a",{className:"toLogin",href:p,"data-tap":"link"},"登录豆瓣")]),m=(0,i.default)("div",{className:"TalionNav-secondary"},[(0,i.default)("a",{className:"close-nav",href:"javascript:;","data-tap":"toggle"},"关闭"),(0,i.default)("form",{action:"/search",method:"GET"},(0,i.default)("div",null,(0,i.default)("input",{name:"query",type:"search"}))),u.msg&&(0,i.default)("a",{className:"noti",href:u.url,"data-tap":"link"},u.msg),(0,i.default)("ul",null,w),(0,i.default)("div",{className:"navBottom"},[y,(0,i.default)("div",{className:"nav-item"},[(0,i.default)("a",{className:"toPC",href:"/to_pc/?url="+encodeURIComponent(location.href),"data-tap":"link"},"使用桌面版"),(0,i.default)("a",{className:"toApp","data-tap":"open-app"},"使用豆瓣App")])])]),(0,i.default)("header",{className:"TalionNav"+(e?"":" is-active")},[v,m,g])}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n={credentials:"include"},r=e.data||{},o=e.dataType||"json";delete e.data,delete e.dataType,r.for_mobile=1,r.ck=l.default.get("ck");var i=Object.keys(r).reduce(function(t,e){return t+"&"+e+"="+r[e]},"");if(i=i&&i.substring(1),"POST"===e.method)e.body=i;else{var a=t.match(/\?./)?"&":"?";t=""+t+a+i}return fetch(t,u({},n,e)).then(function(t){if(t.ok)return t[o]().then(function(e){return{data:e,response:t}});var e=new Error(t.statusText);e.response=t;try{e.json=JSON.parse(t.statusText)}catch(t){}throw e}).catch(function(t){return console.error(t),{error:t,response:t.response}})}function i(t){try{var e=JSON.parse(JSON.stringify(t));if(localStorage.localNotiChart){var n=JSON.parse(localStorage.localNotiChart);t.chat.count-=n.chat.count,t.chat.count=Math.max(t.chat.count,0),e.chat.count=n.chat.count}localStorage.localNotiChart=JSON.stringify(e)}catch(t){console.error(t)}}function a(t){i(t);var e=t,n=t.chat.count,r=e.my_global.count,a=r+(n?1:0),s="";if(1!==r||n)n&&!r?s="你有"+n+"封新豆邮":r&&!n?s="你有"+r+"条提醒":r&&n&&(s="你有"+r+"条提醒 "+n+"封新豆邮");else{var u=h+"/v2/mine/notifications";s=o(u).then(function(t){if(!t.data)return"";var e=t.data.notifications;if(0===e.length)return"";var n=e[0],r="";return n.text&&!function(){var t=0;n.emphasizes.forEach(function(e){r+=n.text.substring(t,e.start),r+=e.end-e.start>v?"“"+n.text.substring(e.start,e.start+v)+"...”":"“"+n.text.substring(e.start,e.end)+"”",t=e.end}),r+=n.text.substring(t)}(),r}).catch(function(t){return console.error(t)}).then(function(t){return t||"你有"+r+"条提醒"})}return"string"==typeof s&&(s=Promise.resolve(s)),s.then(function(t){return{count:a,chatCount:n,mineCount:r,msg:t,url:m}})}function s(t){l.default.get("ck")&&o(h+"/v2/notification_chart").then(function(t){return!t.error&&a(t.data)}).then(function(e){return t(e)}).catch(function(t){return console.error(t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.NOTI_LIST_URL=void 0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(2),l=r(c),f=n(27),d=r(f);n(34),d.default.polyfill();var p="https://m.douban.com",h=p+"/rexxar/api",v=5,m="/notification";e.default={listen:function(t){s(t),setInterval(function(){s(t)},36e4)}},e.NOTI_LIST_URL=m},function(t,e){"use strict";function n(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.from,r=void 0===n?"mdouban":n,o=e.source,i=void 0===o?"":o,a=e.promo_type,s=void 0===a?"":a,u=e.promo_copy_no,c=void 0===u?"1":u,l=e.is_download_url,f=void 0!==l&&l,d=e.direct_dl,p=void 0===d?"1":d,h=e.returnUrl,v=void 0!==h&&h,m=void 0;return f?m="https://www.douban.com/doubanapp/app?from="+r+"&page="+s+"&model=B&copy="+c+"&channel="+i+"&direct_dl="+p:!function(){var e="https://www.douban.com/doubanapp/dispatch?uri=",n=navigator.userAgent.toLowerCase(),o=/(iphone|ipad|ipod|ios)/i.test(n),a=function(){var t=n.match(/os ([0-9]+)_/);return t?+t[1]:0};m=o&&a()>=9?""+e+t.replace("douban://douban.com","")+"&from="+r+"&page="+s+"&model=B&copy="+c+"&channel="+i:"https://www.douban.com/doubanapp/card/get_app?client_uri="+t+"&from="+r+"&page="+s+"&model=B&copy="+c+"&channel="+i}(),v?m:void(location.href=m)}Object.defineProperty(e,"__esModule",{value:!0}),e.redirectToOpenApp=n},function(t,e){t.exports=function(t){var e,n=String.prototype.split,r=/()??/.exec("")[1]===t;return e=function(e,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return n.call(e,o,i);var a,s,u,c,l=[],f=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),d=0,o=new RegExp(o.source,f+"g");for(e+="",r||(a=new RegExp("^"+o.source+"$(?!\\s)",f)),i=i===t?-1>>>0:i>>>0;(s=o.exec(e))&&(u=s.index+s[0].length,!(u>d&&(l.push(e.slice(d,s.index)),!r&&s.length>1&&s[0].replace(a,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===t&&(s[e]=t)}),s.length>1&&s.index<e.length&&Array.prototype.push.apply(l,s.slice(1)),c=s[0].length,d=u,l.length>=i)));)o.lastIndex===s.index&&o.lastIndex++;return d===e.length?!c&&o.test("")||l.push(""):l.push(e.slice(d)),l.length>i?l.slice(0,i):l}}()},function(t,e,n){function r(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}try{var o=n(11)}catch(t){var o=n(11)}var i=/\s+/,a=Object.prototype.toString;t.exports=function(t){return new r(t)},r.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array(),n=o(e,t);return~n||e.push(t),this.el.className=e.join(" "),this},r.prototype.remove=function(t){if("[object RegExp]"==a.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=o(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},r.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},r.prototype.toggle=function(t,e){return this.list?("undefined"!=typeof e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):("undefined"!=typeof e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},r.prototype.array=function(){var t=this.el.getAttribute("class")||"",e=t.replace(/^\s+|\s+$/g,""),n=e.split(i);return""===n[0]&&n.shift(),n},r.prototype.has=r.prototype.contains=function(t){return this.list?this.list.contains(t):!!~o(this.array(),t)}},function(t,e,n){(function(e,r){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function o(t){return"function"==typeof t}function i(t){G=t}function a(t){J=t}function s(){return function(){return e.nextTick(d)}}function u(){return"undefined"!=typeof W?function(){W(d)}:f()}function c(){var t=0,e=new Q(d),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function l(){var t=new MessageChannel;return t.port1.onmessage=d,function(){return t.port2.postMessage(0)}}function f(){var t=setTimeout;return function(){return t(d,1)}}function d(){for(var t=0;t<$;t+=2){var e=nt[t],n=nt[t+1];e(n),nt[t]=void 0,nt[t+1]=void 0}$=0}function p(){try{var t=n(63);return W=t.runOnLoop||t.runOnContext,u()}catch(t){return f()}}function h(t,e){var n=arguments,r=this,o=new this.constructor(m);void 0===o[ot]&&M(o);var i=r._state;return i?!function(){var t=n[i-1];J(function(){return R(i,o,t,r._result)})}():N(r,o,t,e),o}function v(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(m);return _(n,t),n}function m(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function b(t){try{return t.then}catch(t){return ut.error=t,ut}}function w(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function x(t,e,n){J(function(t){var r=!1,o=w(n,e,function(n){r||(r=!0,e!==n?_(t,n):S(t,n))},function(e){r||(r=!0,O(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,O(t,o))},t)}function k(t,e){e._state===at?S(t,e._result):e._state===st?O(t,e._result):N(e,void 0,function(e){return _(t,e)},function(e){return O(t,e)})}function T(t,e,n){e.constructor===t.constructor&&n===h&&e.constructor.resolve===v?k(t,e):n===ut?O(t,ut.error):void 0===n?S(t,e):o(n)?x(t,e,n):S(t,e)}function _(e,n){e===n?O(e,g()):t(n)?T(e,n,b(n)):S(e,n)}function E(t){t._onerror&&t._onerror(t._result),C(t)}function S(t,e){t._state===it&&(t._result=e,t._state=at,0!==t._subscribers.length&&J(C,t))}function O(t,e){t._state===it&&(t._state=st,t._result=e,J(E,t))}function N(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+at]=n,o[i+st]=r,0===i&&t._state&&J(C,t)}function C(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?R(n,r,o,i):o(i);t._subscribers.length=0}}function A(){this.error=null}function P(t,e){try{return t(e)}catch(t){return ct.error=t,ct}}function R(t,e,n,r){var i=o(n),a=void 0,s=void 0,u=void 0,c=void 0;if(i){if(a=P(n,r),a===ct?(c=!0,s=a.error,a=null):u=!0,e===a)return void O(e,y())}else a=r,u=!0;e._state!==it||(i&&u?_(e,a):c?O(e,s):t===at?S(e,a):t===st&&O(e,a))}function L(t,e){try{e(function(e){_(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}function I(){return lt++}function M(t){t[ot]=lt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function U(t,e){this._instanceConstructor=t,this.promise=new t(m),this.promise[ot]||M(this.promise),Y(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):O(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function j(t){return new U(this,t).promise}function V(t){var e=this;return new e(Y(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function B(t){var e=this,n=new e(m);return O(n,t),n}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(t){this[ot]=I(),this._result=this._state=void 0,this._subscribers=[],m!==t&&("function"!=typeof t&&F(),this instanceof H?L(this,t):q())}function X(){var t=void 0;if("undefined"!=typeof r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=H}var z=void 0;z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var Y=z,$=0,W=void 0,G=void 0,J=function(t,e){nt[$]=t,nt[$+1]=e,$+=2,2===$&&(G?G(d):rt())},K="undefined"!=typeof window?window:void 0,Z=K||{},Q=Z.MutationObserver||Z.WebKitMutationObserver,tt="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,nt=new Array(1e3),rt=void 0;rt=tt?s():Q?c():et?l():void 0===K?p():f();var ot=Math.random().toString(36).substring(16),it=void 0,at=1,st=2,ut=new A,ct=new A,lt=0;return U.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===it&&n<t;n++)this._eachEntry(e[n],n)},U.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===v){var o=b(t);if(o===h&&t._state!==it)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===H){var i=new n(m);T(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},U.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===it&&(this._remaining--,t===st?O(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},U.prototype._willSettleAt=function(t,e){var n=this;N(t,void 0,function(t){return n._settledAt(at,e,t)},function(t){return n._settledAt(st,e,t)})},H.all=j,H.race=V,H.resolve=v,H.reject=B,H._setScheduler=i,H._setAsap=a,H._asap=J,H.prototype={constructor:H,then:h,catch:function(t){return this.then(null,t)}},H.polyfill=X,H.Promise=H,H})}).call(e,n(36),function(){return this}())},function(t,e,n){"use strict";function r(t){var e=t[a];return e||(e=t[a]={}),e}var o=n(32),i="7";o("ev-store",i);var a="__EV_STORE_KEY@"+i;t.exports=r},function(t,e){},function(t,e,n){var r;!function(){"use strict";function o(t,e){function n(t,e){return function(){return t.apply(e,arguments)}}var r;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!o.notNeeded(t)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,u=0,c=i.length;u<c;u++)s[i[u]]=n(s[i[u]],s);a&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,r):o.call(t,e,n,r)},t.addEventListener=function(e,n,r){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):o.call(t,e,n,r)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(t){r(t)},!1),t.onclick=null)}}var i=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!i,s=/iP(ad|hone|od)/.test(navigator.userAgent)&&!i,u=s&&/OS 4_\d(_\d)?/.test(navigator.userAgent),c=s&&/OS [6-7]_\d/.test(navigator.userAgent),l=navigator.userAgent.indexOf("BB10")>0;o.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(s&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},o.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},o.prototype.sendClick=function(t,e){var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},o.prototype.determineEventType=function(t){return a&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},o.prototype.focus=function(t){var e;s&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},o.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},o.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},o.prototype.onTouchStart=function(t){var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],s){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!u){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},o.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},o.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,
this.targetElement=null),!0)},o.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},o.prototype.onTouchEnd=function(t){var e,n,r,o,i,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,c&&(i=t.changedTouches[0],l=document.elementFromPoint(i.pageX-window.pageXOffset,i.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=l.tagName.toLowerCase(),"label"===r){if(e=this.findControl(l)){if(this.focus(l),a)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-n>100||s&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),s&&"select"===r||(this.targetElement=null,t.preventDefault()),!1);return!(!s||u||(o=l.fastClickScrollParent,!o||o.fastClickLastScrollTop===o.scrollTop))||(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},o.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},o.prototype.onMouse=function(t){return!(this.targetElement&&!t.forwardedTouchEvent&&t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),1))},o.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},o.prototype.destroy=function(){var t=this.layer;a&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},o.notNeeded=function(t){var e,n,r,o;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(e=document.querySelector("meta[name=viewport]")){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(l&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(e.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||"none"===t.style.touchAction||"manipulation"===t.style.touchAction)},o.attach=function(t,e){return new o(t,e)},r=function(){return o}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}()},function(t,e){(function(e){"use strict";function n(t,e){return t in r?r[t]:(r[t]=e,e)}var r="undefined"!=typeof window?window:"undefined"!=typeof e?e:{};t.exports=n}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t,e,n){var r="__INDIVIDUAL_ONE_VERSION_"+t,i=r+"_ENFORCE_SINGLETON",a=o(i,e);if(a!==e)throw new Error("Can only have one copy of "+t+".\nYou already have version "+a+" installed.\nThis means you cannot install version "+e);return o(r,n)}var o=n(31);t.exports=r},function(t,e){"use strict";t.exports=function(t){return"object"==typeof t&&null!==t}},function(t,e,n){n(35),t.exports=self.fetch.bind(self)},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader;return e.readAsArrayBuffer(t),a(e)}function u(t){var e=new FileReader;return e.readAsText(t),a(e)}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob?(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=i(this);return t?t:Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t){var e=t.toUpperCase();return m.indexOf(e)>-1?e:t}function f(t,e){e=e||{};var n=e.body;if(f.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=l(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function p(t){var e=new o,n=(t.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();e.append(r,o)}),e}function h(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof o?e.headers:new o(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};o.prototype.append=function(t,r){t=e(t),r=n(r);var o=this.map[t];o||(o=[],this.map[t]=o),o.push(r)},o.prototype.delete=function(t){delete this.map[e(t)]},o.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},o.prototype.getAll=function(t){return this.map[e(t)]||[]},o.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},o.prototype.set=function(t,r){this.map[e(t)]=[n(r)]},o.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){t.call(e,r,n,this)},this)},this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},c.call(f.prototype),c.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},h.error=function(){var t=new h(null,{status:0,statusText:""});return t.type="error",t};var g=[301,302,303,307,308];h.redirect=function(t,e){if(g.indexOf(e)===-1)throw new RangeError("Invalid status code");return new h(null,{status:e,headers:{location:t}})},t.Headers=o,t.Request=f,t.Response=h,t.fetch=function(t,e){return new Promise(function(n,r){function o(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var i;i=f.prototype.isPrototypeOf(t)&&!e?t:new f(t,e);var a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:p(a),url:o()},e="response"in a?a.response:a.responseText;n(new h(e,t))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&v.blob&&(a.responseType="blob"),i.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e){function n(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&r())}function r(){if(!f){var t=a(n);f=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,f=!1,s(t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var a,s,u=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var c,l=[],f=!1,d=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||f||a(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){"use strict";t.exports=n(38)},function(t,e,n){"use strict";function r(t){for(var e=t.length,n=-1,r=new Array(e);++n<e;)r[n]=l(t[n]);return r}function o(t){var e={};for(var n in t){var r=t[n];e[n]="undefined"!=typeof r?l(r):r}return e}function i(t){return new d(t.tn,t.p?o(t.p):{},t.c?r(t.c):[],t.k,t.n)}function a(t){return new p(t.x)}function s(t){return new h(t.pt,t.v?l(t.v):null,t.p&&l(t.p))}function u(t){return new v(t.value)}function c(t){switch(t.t){case f.VirtualPatch:return s(t);case f.VirtualNode:return i(t);case f.VirtualTree:return a(t);case f.SoftSetHook:return u(t)}return o(t)}function l(t){var e=typeof t;switch(e){case"string":case"boolean":case"number":return t}return Array.isArray(t)?r(t):t?c(t):null}var f=n(12),d=n(9),p=n(10),h=n(17),v=n(6);t.exports=l},function(t,e,n){"use strict";function r(t){for(var e=t.length,n=-1,r=new Array(e);++n<e;)r[n]=l(t[n]);return r}function o(t){var e={};for(var n in t){var r=t[n];e[n]="undefined"!=typeof r?l(r):r}return e}function i(t){var e={t:f.VirtualNode,tn:t.tagName};return Object.keys(t.properties).length&&(e.p=o(t.properties)),t.children.length&&(e.c=r(t.children)),t.key&&(e.k=t.key),t.namespace&&(e.n=t.namespace),e}function a(t){return{t:f.VirtualTree,x:t.text}}function s(t){var e={t:f.VirtualPatch,pt:t.type};return t.vNode&&(e.v=l(t.vNode)),t.patch&&(e.p=l(t.patch)),e}function u(t){return{t:f.SoftSetHook,value:t.value}}function c(t){return"patch"in t&&"number"==typeof t.type?s(t):"VirtualNode"===t.type?i(t):"VirtualText"===t.type?a(t):t instanceof d?u(t):o(t)}function l(t){var e=typeof t;switch(e){case"string":case"boolean":case"number":return t}return Array.isArray(t)?r(t):t?c(t):null}var f=n(12),d=n(6);t.exports=l},function(t,e,n){"use strict";function r(t,e){if(!t)return o(document.createTextNode(""));if("string"==typeof t){if(!("DOMParser"in window))throw new Error("DOMParser is not available, so parsing string to DOM node is not possible.");d=d||new DOMParser;var n=d.parseFromString(t,"text/html");t=n.body.firstChild?n.getElementsByTagName("body")[0].firstChild:n.head.firstChild&&("TITLE"!==n.head.firstChild.tagName||n.title)?n.head.firstChild:n.firstChild&&"HTML"!==n.firstChild.tagName?n.firstChild:document.createTextNode("")}if("object"!=typeof t||!t||!t.nodeType)throw new Error("invalid dom node",t);return o(t,e)}function o(t,e){return 3===t.nodeType?i(t):1===t.nodeType||9===t.nodeType?a(t,e):new h("")}function i(t){return new h(t.nodeValue)}function a(t,e){var n=t.namespaceURI!==g?t.namespaceURI:null,r=e&&t.getAttribute(e)?t.getAttribute(e):null;return new p(t.tagName,u(t),s(t,e),r,n)}function s(t,e){for(var n=[],r=0;r<t.childNodes.length;r++)n.push(o(t.childNodes[r],e));return n}function u(t){var e={};if(!t.hasAttributes())return e;var n;t.namespaceURI&&t.namespaceURI!==g&&(n=t.namespaceURI);for(var r,o=0;o<t.attributes.length;o++)r="style"==t.attributes[o].name?f(t):n?l(t.attributes[o]):c(t.attributes[o]),r.ns?e[r.name]={namespace:r.ns,value:r.value}:r.isAttr?(e.attributes||(e.attributes={}),e.attributes[r.name]=r.value):e[r.name]=r.value;return e}function c(t){var e,n,r;return e=v[t.name]?v[t.name]:t.name,0===e.indexOf("data-")||0===e.indexOf("aria-")?(n=t.value,r=!0):n=t.value,{name:e,value:n,isAttr:r||!1}}function l(t){return{name:t.name,value:t.value,ns:m[t.name]||""}}function f(t){for(var e=t.style,n={},r=0;r<e.length;++r){var o=e.item(r);n[o]=e[o],n[o].indexOf("url")>-1&&(n[o]=n[o].replace(/\"/g,""))}return{name:"style",value:n}}var d,p=n(9),h=n(10),v=n(42),m=n(41),g="http://www.w3.org/1999/xhtml";t.exports=r},function(t,e){"use strict";var n=null,r="http://www.w3.org/2001/xml-events",o="http://www.w3.org/1999/xlink",i="http://www.w3.org/XML/1998/namespace",a={about:n,"accent-height":n,accumulate:n,additive:n,"alignment-baseline":n,alphabetic:n,amplitude:n,"arabic-form":n,ascent:n,attributeName:n,attributeType:n,azimuth:n,bandwidth:n,baseFrequency:n,baseProfile:n,"baseline-shift":n,bbox:n,begin:n,bias:n,by:n,calcMode:n,"cap-height":n,class:n,clip:n,"clip-path":n,"clip-rule":n,clipPathUnits:n,color:n,"color-interpolation":n,"color-interpolation-filters":n,"color-profile":n,"color-rendering":n,content:n,contentScriptType:n,contentStyleType:n,cursor:n,cx:n,cy:n,d:n,datatype:n,defaultAction:n,descent:n,diffuseConstant:n,direction:n,display:n,divisor:n,"dominant-baseline":n,dur:n,dx:n,dy:n,edgeMode:n,editable:n,elevation:n,"enable-background":n,end:n,"ev:event":r,event:n,exponent:n,externalResourcesRequired:n,fill:n,"fill-opacity":n,"fill-rule":n,filter:n,filterRes:n,filterUnits:n,"flood-color":n,"flood-opacity":n,focusHighlight:n,focusable:n,"font-family":n,"font-size":n,"font-size-adjust":n,"font-stretch":n,"font-style":n,"font-variant":n,"font-weight":n,format:n,from:n,fx:n,fy:n,g1:n,g2:n,"glyph-name":n,"glyph-orientation-horizontal":n,"glyph-orientation-vertical":n,glyphRef:n,gradientTransform:n,gradientUnits:n,handler:n,hanging:n,height:n,"horiz-adv-x":n,"horiz-origin-x":n,"horiz-origin-y":n,id:n,ideographic:n,"image-rendering":n,in:n,in2:n,initialVisibility:n,intercept:n,k:n,k1:n,k2:n,k3:n,k4:n,kernelMatrix:n,kernelUnitLength:n,kerning:n,keyPoints:n,keySplines:n,keyTimes:n,lang:n,lengthAdjust:n,"letter-spacing":n,"lighting-color":n,limitingConeAngle:n,local:n,"marker-end":n,"marker-mid":n,"marker-start":n,markerHeight:n,markerUnits:n,markerWidth:n,mask:n,maskContentUnits:n,maskUnits:n,mathematical:n,max:n,media:n,mediaCharacterEncoding:n,mediaContentEncodings:n,mediaSize:n,mediaTime:n,method:n,min:n,mode:n,name:n,"nav-down":n,"nav-down-left":n,"nav-down-right":n,"nav-left":n,"nav-next":n,"nav-prev":n,"nav-right":n,"nav-up":n,"nav-up-left":n,"nav-up-right":n,numOctaves:n,observer:n,offset:n,opacity:n,operator:n,order:n,orient:n,orientation:n,origin:n,overflow:n,overlay:n,"overline-position":n,"overline-thickness":n,"panose-1":n,path:n,pathLength:n,patternContentUnits:n,patternTransform:n,patternUnits:n,phase:n,playbackOrder:n,"pointer-events":n,points:n,pointsAtX:n,pointsAtY:n,pointsAtZ:n,preserveAlpha:n,preserveAspectRatio:n,primitiveUnits:n,propagate:n,property:n,r:n,radius:n,refX:n,refY:n,rel:n,"rendering-intent":n,repeatCount:n,repeatDur:n,requiredExtensions:n,requiredFeatures:n,requiredFonts:n,requiredFormats:n,resource:n,restart:n,result:n,rev:n,role:n,rotate:n,rx:n,ry:n,scale:n,seed:n,"shape-rendering":n,slope:n,snapshotTime:n,spacing:n,specularConstant:n,specularExponent:n,spreadMethod:n,startOffset:n,stdDeviation:n,stemh:n,stemv:n,stitchTiles:n,"stop-color":n,"stop-opacity":n,"strikethrough-position":n,"strikethrough-thickness":n,string:n,stroke:n,"stroke-dasharray":n,"stroke-dashoffset":n,"stroke-linecap":n,"stroke-linejoin":n,"stroke-miterlimit":n,"stroke-opacity":n,"stroke-width":n,surfaceScale:n,syncBehavior:n,syncBehaviorDefault:n,syncMaster:n,syncTolerance:n,syncToleranceDefault:n,systemLanguage:n,tableValues:n,target:n,targetX:n,targetY:n,"text-anchor":n,"text-decoration":n,"text-rendering":n,textLength:n,timelineBegin:n,title:n,to:n,transform:n,transformBehavior:n,type:n,typeof:n,u1:n,u2:n,"underline-position":n,"underline-thickness":n,unicode:n,"unicode-bidi":n,"unicode-range":n,"units-per-em":n,"v-alphabetic":n,"v-hanging":n,"v-ideographic":n,"v-mathematical":n,values:n,version:n,"vert-adv-y":n,"vert-origin-x":n,"vert-origin-y":n,viewBox:n,viewTarget:n,visibility:n,width:n,widths:n,"word-spacing":n,"writing-mode":n,x:n,"x-height":n,x1:n,x2:n,xChannelSelector:n,"xlink:actuate":o,"xlink:arcrole":o,"xlink:href":o,"xlink:role":o,"xlink:show":o,"xlink:title":o,"xlink:type":o,"xml:base":i,"xml:id":i,"xml:lang":i,"xml:space":i,y:n,y1:n,y2:n,yChannelSelector:n,z:n,zoomAndPan:n};t.exports=a},function(t,e){"use strict";var n={abbr:"abbr",accept:"accept","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",alt:"alt",async:"async",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charset",checked:"checked",cite:"cite",class:"className",cols:"cols",colspan:"colSpan",command:"command",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",coords:"coords",crossorigin:"crossOrigin",data:"data",datetime:"dateTime",default:"default",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",dropzone:"dropzone",enctype:"encType",for:"htmlFor",form:"form",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameBorder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang","http-equiv":"httpEquiv",icon:"icon",id:"id",inputmode:"inputMode",ismap:"isMap",itemid:"itemId",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",manifest:"manifest",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",ping:"ping",placeholder:"placeholder",poster:"poster",preload:"preload",radiogroup:"radioGroup",readonly:"readOnly",rel:"rel",required:"required",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",sortable:"sortable",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srcset:"srcSet",start:"start",step:"step",style:"style",tabindex:"tabIndex",target:"target",title:"title",translate:"translate",type:"type",typemustmatch:"typeMustMatch",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap"};t.exports=n},function(t,e,n){function r(t){var e=document;if(i(t))return e.createTextNode(t.x);if(!a(t))return null;var n=t.n?e.createElementNS(t.n,t.tn):e.createElement(t.tn),s=t.p;o(n,s);var u=t.c;if(u)for(var c=0;c<u.length;c++){var l=r(u[c]);l&&n.appendChild(l)}return n}var o=n(14),i=n(49),a=n(48);t.exports=r},function(t,e){function n(t,e,n,o){return n&&0!==n.length?(n.sort(i),r(t,e,n,o,0)):{}}function r(t,e,n,i,s){if(i=i||{},t){o(n,s,s)&&(i[s]=t);var u=e[0];if(u)for(var c=t.childNodes,l=0;l<u.length;l++){s+=1;var f=u[l]||a,d=s+(f[1]||0);o(n,s,d)&&r(c[l],f,n,i,s),s=d}}return i}function o(t,e,n){if(0===t.length)return!1;for(var r,o,i=0,a=t.length-1;i<=a;){if(r=(a+i)/2>>0,o=t[r],i===a)return o>=e&&o<=n;if(o<e)i=r+1;else{if(!(o>n))return!0;a=r-1}}return!1}function i(t,e){return t>e?1:-1}var a={};t.exports=n},function(t,e,n){function r(t,e){return o(t,e)}var o=n(51);t.exports=r},function(t,e){"use strict";t.exports=function(t){return"object"==typeof t&&null!==t}},function(t,e){function n(t){return t&&"object"==typeof t&&"undefined"!=typeof t.value}t.exports=n},function(t,e,n){function r(t){return t&&t.t===o.VirtualNode}t.exports=r;var o=n(15)},function(t,e,n){function r(t){return t&&t.t===o.VirtualTree}t.exports=r;var o=n(15)},function(t,e,n){function r(t,e,n){var r=t[0],d=t[1],p=t[2];switch(r){case f.REMOVE:return o(e);case f.INSERT:return i(e,d);case f.VTEXT:return a(e,d);case f.VNODE:return s(e,d);case f.ORDER:return u(e,d),e;case f.PROPS:return l(e,d,p.p),e;case f.THUNK:return c(e,n(e,d));default:return e}}function o(t){var e=t.parentNode;return e&&e.removeChild(t),null}function i(t,e){var n=d(e);return t&&t.appendChild(n),t}function a(t,e){var n;if(3===t.nodeType)t.replaceData(0,t.length,e.x),n=t;else{var r=t.parentNode;n=d(e),r&&n!==t&&r.replaceChild(n,t)}return n}function s(t,e){var n=t.parentNode,r=d(e);return n&&r!==t&&n.replaceChild(r,t),r}function u(t,e){for(var n,r,o,i=t.childNodes,a={},s=0;s<e.removes.length;s++)r=e.removes[s],n=i[r.from],r.key&&(a[r.key]=n),t.removeChild(n);for(var u=i.length,c=0;c<e.inserts.length;c++)o=e.inserts[c],n=a[o.key],t.insertBefore(n,o.to>=u++?null:i[o.to])}function c(t,e){return t&&e&&t!==e&&t.parentNode&&t.parentNode.replaceChild(e,t),e}var l=n(14),f=n(16),d=n(43);t.exports=r},function(t,e,n){function r(t,e){var n=i(e);if(0===n.length)return t;for(var r=a(t,e.a,n),s=0;s<n.length;s++){var u=n[s];t=o(t,r[u],e[u])}return t}function o(t,e,n){if(!e)return t;for(var o,i=0;i<n.length;i++)o=s(n[i],e,r),e===t&&(t=o);return t}function i(t){var e=[];for(var n in t)"a"!==n&&e.push(Number(n));return e}var a=n(44),s=n(50);t.exports=r},function(t,e,n){function r(t){var e=t.children;if(!e)return null;for(var n=e.length,o=new Array(n),i=-1;++i<n;)o[i]=r(e[i]);return t.count?[o,t.count]:[o]}function o(t){if(Array.isArray(t)){for(var e=t.length,n=new Array(e),r=-1;++r<e;)n[r]=i(t[r]);return n}return[i(t)]}function i(t){var e=t.type,n=[e,u(t.patch&&t.patch.a?a(t.patch):t.patch)];return e===s.PROPS&&n.push({p:t.vNode.properties}),n}function a(t){var e=r(t.a),n={a:e};for(var i in t)"a"!==i&&(n[i]=o(t[i]));return n}var s=n(16),u=n(13);t.exports=a},function(t,e,n){t.exports=n(45)},function(t,e,n){t.exports=n(52)},function(t,e,n){var r=n(62);t.exports=r},function(t,e,n){var r=n(58);t.exports=r},function(t,e,n){"use strict";function r(t){return this instanceof r?void(this.value=t):new r(t)}var o=n(28);t.exports=r,r.prototype.hook=function(t,e){var n=o(t),r=e.substr(3);n[r]=this.value},r.prototype.unhook=function(t,e){var n=o(t),r=e.substr(3);n[r]=void 0}},function(t,e,n){"use strict";function r(t,e,n){var r,a,u,c,l=[];return!n&&s(e)&&(n=e,a={}),a=a||e||{},r=y(t,a),a.hasOwnProperty("key")&&(u=a.key,a.key=void 0),a.hasOwnProperty("namespace")&&(c=a.namespace,a.namespace=void 0),"INPUT"!==r||c||!a.hasOwnProperty("value")||void 0===a.value||m(a.value)||(a.value=b(a.value)),i(a),void 0!==n&&null!==n&&o(n,l,r,a),new f(r,a,l,u,c)}function o(t,e,n,r){if("string"==typeof t)e.push(new d(t));else if("number"==typeof t)e.push(new d(String(t)));else if(a(t))e.push(t);else{if(!l(t)){if(null===t||void 0===t)return;throw u({foreignObject:t,parentVnode:{tagName:n,properties:r}})}for(var i=0;i<t.length;i++)o(t[i],e,n,r)}}function i(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if(m(n))continue;"ev-"===e.substr(0,3)&&(t[e]=w(n))}}function a(t){return p(t)||h(t)||v(t)||g(t)}function s(t){return"string"==typeof t||l(t)||a(t)}function u(t){var e=new Error;return e.type="virtual-hyperscript.unexpected.virtual-element",e.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+c(t.foreignObject)+".\nThe parent vnode is:\n"+c(t.parentVnode),e.foreignObject=t.foreignObject,e.parentVnode=t.parentVnode,e}function c(t){try{return JSON.stringify(t,null,"    ")}catch(e){return String(t)}}var l=n(18),f=n(9),d=n(10),p=n(4),h=n(8),v=n(5),m=n(7),g=n(3),y=n(59),b=n(6),w=n(57);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!t)return"DIV";var n=!e.hasOwnProperty("id"),r=o(t,i),s=null;a.test(r[1])&&(s="DIV");var u,c,l,f;for(f=0;f<r.length;f++)c=r[f],c&&(l=c.charAt(0),s?"."===l?(u=u||[],u.push(c.substring(1,c.length))):"#"===l&&n&&(e.id=c.substring(1,c.length)):s=c);return u&&(e.className&&u.push(e.className),e.className=u.join(" ")),e.namespace?s:s.toUpperCase()}var o=n(25),i=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,a=/^\.|#/;t.exports=r},function(t,e,n){function r(t,e){var n=t,r=e;return u(e)&&(r=o(e,t)),u(t)&&(n=o(t,null)),{a:n,b:r}}function o(t,e){var n=t.vnode;if(n||(n=t.vnode=t.render(e)),!(i(n)||a(n)||s(n)))throw new Error("thunk did not return a valid node");return n}var i=n(4),a=n(8),s=n(5),u=n(3);t.exports=r},function(t,e,n){function r(t,e){var n;for(var s in t){s in e||(n=n||{},n[s]=void 0);var u=t[s],c=e[s];if(u!==c)if(i(u)&&i(c))if(o(c)!==o(u))n=n||{},n[s]=c;else if(a(c))n=n||{},n[s]=c;else{var l=r(u,c);l&&(n=n||{},n[s]=l)}else n=n||{},n[s]=c}for(var f in e)f in t||(n=n||{},n[f]=e[f]);return n}function o(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__?t.__proto__:t.constructor?t.constructor.prototype:void 0}var i=n(33),a=n(7);t.exports=r},function(t,e,n){function r(t,e){var n={a:t};return o(t,e,n,0),n}function o(t,e,n,r){if(t!==e){var o=n[r],s=!1;if(x(t)||x(e))u(t,e,n,r);else if(null==e)w(t)||(a(t,n,r),o=n[r]),o=v(o,new g(g.REMOVE,t,e));else if(y(e))if(y(t))if(t.tagName===e.tagName&&t.namespace===e.namespace&&t.key===e.key){var c=T(t.properties,e.properties);c&&(o=v(o,new g(g.PROPS,t,c))),o=i(t,e,n,o,r)}else o=v(o,new g(g.VNODE,t,e)),s=!0;else o=v(o,new g(g.VNODE,t,e)),s=!0;else b(e)?b(t)?t.text!==e.text&&(o=v(o,new g(g.VTEXT,t,e))):(o=v(o,new g(g.VTEXT,t,e)),s=!0):w(e)&&(w(t)||(s=!0),o=v(o,new g(g.WIDGET,t,e)));o&&(n[r]=o),s&&a(t,n,r)}}function i(t,e,n,r,i){for(var a=t.children,s=d(a,e.children),u=s.children,c=a.length,l=u.length,f=c>l?c:l,p=0;p<f;p++){var h=a[p],m=u[p];i+=1,h?o(h,m,n,i):m&&(r=v(r,new g(g.INSERT,null,m))),y(h)&&h.count&&(i+=h.count)}return s.moves&&(r=v(r,new g(g.ORDER,t,s.moves))),r}function a(t,e,n){l(t,e,n),s(t,e,n)}function s(t,e,n){if(w(t))"function"==typeof t.destroy&&(e[n]=v(e[n],new g(g.REMOVE,t,null)));else if(y(t)&&(t.hasWidgets||t.hasThunks))for(var r=t.children,o=r.length,i=0;i<o;i++){var a=r[i];n+=1,s(a,e,n),y(a)&&a.count&&(n+=a.count)}else x(t)&&u(t,null,e,n)}function u(t,e,n,o){var i=k(t,e),a=r(i.a,i.b);c(a)&&(n[o]=new g(g.THUNK,null,a))}function c(t){for(var e in t)if("a"!==e)return!0;return!1}function l(t,e,n){if(y(t)){if(t.hooks&&(e[n]=v(e[n],new g(g.PROPS,t,f(t.hooks)))),t.descendantHooks||t.hasThunks)for(var r=t.children,o=r.length,i=0;i<o;i++){var a=r[i];n+=1,l(a,e,n),y(a)&&a.count&&(n+=a.count)}}else x(t)&&u(t,null,e,n)}function f(t){var e={};for(var n in t)e[n]=void 0;return e}function d(t,e){var n=h(e),r=n.keys,o=n.free;if(o.length===e.length)return{children:e,moves:null};var i=h(t),a=i.keys,s=i.free;if(s.length===t.length)return{children:e,moves:null};for(var u=[],c=0,l=o.length,f=0,d=0;d<t.length;d++){var v,m=t[d];m.key?r.hasOwnProperty(m.key)?(v=r[m.key],u.push(e[v])):(v=d-f++,u.push(null)):c<l?(v=o[c++],u.push(e[v])):(v=d-f++,u.push(null))}for(var g=c>=o.length?e.length:o[c],y=0;y<e.length;y++){var b=e[y];b.key?a.hasOwnProperty(b.key)||u.push(b):y>=g&&u.push(b)}for(var w,x=u.slice(),k=0,T=[],_=[],E=0;E<e.length;){var S=e[E];for(w=x[k];null===w&&x.length;)T.push(p(x,k,null)),w=x[k];w&&w.key===S.key?(k++,E++):S.key?(w&&w.key&&r[w.key]!==E+1?(T.push(p(x,k,w.key)),w=x[k],w&&w.key===S.key?k++:_.push({key:S.key,to:E})):_.push({key:S.key,to:E}),E++):w&&w.key&&T.push(p(x,k,w.key))}for(;k<x.length;)w=x[k],T.push(p(x,k,w&&w.key));return T.length!==f||_.length?{children:u,moves:{removes:T,inserts:_}}:{children:u,moves:null}}function p(t,e,n){return t.splice(e,1),{from:e,key:n}}function h(t){for(var e={},n=[],r=t.length,o=0;o<r;o++){var i=t[o];i.key?e[i.key]=o:n.push(o)}return{keys:e,free:n}}function v(t,e){return t?(m(t)?t.push(e):t=[t,e],t):e}var m=n(18),g=n(17),y=n(4),b=n(8),w=n(5),x=n(3),k=n(60),T=n(61);t.exports=r},function(t,e){}])}catch(t){console.error(t)}$(function(){clampBox(),handleTouchToggle(document),bindEvent()});